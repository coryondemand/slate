<h1 id="orders">Orders</h1>

<h2 id="submit-order">Submit Order</h2>

<pre class="highlight shell"><code>curl http://localhost:3000/api/orders <span class="se">\</span>
  -d <span class="s1">'{
    "data": {
      "type": "orders",
      "attributes": {
        "vendor-order-id": "cds-0001",
        "po": "123",
        "shipping-method": "321",
        "shipping-name": "Phillip J. Fry",
        "shipping-address1": "123 Green St.\nSuite 321",
        "shipping-city": "New New York",
        "shipping-state": "CA",
        "shipping-zip": "10012"
        "line-items-attributes": [
          {
            "line-number": 1,
            "quantity": 2,
            "description": "Warm Blanket!",
            "product-code": "294",
            "item-properties": {
              "thread-color": "green",
              "blah": "blah 2"
            },
            "path-to-image": "http://images.apple.com/v/home/cj/images/promos/ipad_pro_large.jpg"
          },
          {
            "line-number": 2,
            "quantity": 5,
            "description": "Super Soft Pillow!",
            "product-code": "1029",
            "item-properties": {
              "thread-color": "blue",
              "blah": "blah 3"
            },
            "path-to-image": "http://images.apple.com/v/home/cj/images/heros/iphone-6s-change_xlarge.jpg"
          }
        ]
      }
    }
  }'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/vnd.api+json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/vnd.api+json; version=2"</span> <span class="se">\</span>
  -H <span class="s2">"api-key: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"480226771879331308"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/api/orders/480226771879331308"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-08T14:05:15.978Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-08T14:05:15.978Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="s2">"received"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state-events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"invalidate_it"</span><span class="p">,</span><span class="w"> </span><span class="s2">"process_it"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cancel_it"</span><span class="p">],</span><span class="w"> 
        </span><span class="nt">"bill-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Phillip J. Fry"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Green St."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suite 321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New New York"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-phone"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bill-email"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"ship-name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ship-address1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ship-address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ship-city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ship-state"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ship-zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ship-country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ship-phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="nt">"ship-email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"shipping-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"321"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"po"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"line-items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/api/orders/480226771879331308/relationships/line-items"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"related"</span><span class="p">:</span><span class="s2">"http://localhost:3000/api/orders/480226771879331308/line-items"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000/api/orders/480226771879331308/relationships/user"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"related"</span><span class="p">:</span><span class="s2">"http://localhost:3000/api/orders/480226771879331308/user"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"warnings"</span><span class="p">:[</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Param not allowed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vendor-order-id is not allowed."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">105</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Param not allowed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line-items-attributes is not allowed."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">105</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint will submit a new order.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://localhost:3000/api/orders</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default / Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>{}</td>
<td>The root element of your JSON post object.</td>
</tr>
<tr>
<td>type</td>
<td>orders</td>
<td>Resource the object represents.</td>
</tr>
<tr>
<td>attributes</td>
<td>{}</td>
<td>The object that contains all the pertanent information about the order.</td>
</tr>
<tr>
<td>vendor-order-id</td>
<td>TBD</td>
<td>Do we need this?</td>
</tr>
<tr>
<td>po</td>
<td>required (string / number)</td>
<td>Your PO number. This string/number must be unique with every order.</td>
</tr>
<tr>
<td>shipping-method</td>
<td>string</td>
<td>The shipping carrier and method for the order. For example, use USPSF for USPS First Class. See shipping methods.</td>
</tr>
<tr>
<td>shipping-address</td>
<td>string</td>
<td>The destination street plus additional details (suite/apt./etc). Additional lines should be separated by a carriage return &ldquo;\n&rdquo;.</td>
</tr>
<tr>
<td>shipping-city</td>
<td>string</td>
<td>The destination city of the shipment.</td>
</tr>
<tr>
<td>shipping-state</td>
<td>string</td>
<td>Two digit ISO 3166-2 code of the destination state, ie &ldquo;US&rdquo;.</td>
</tr>
<tr>
<td>shipping-postal-code</td>
<td>string</td>
<td>The destination postal code of the shipment.</td>
</tr>
<tr>
<td>billing-address</td>
<td>string</td>
<td>The billing street plus additional details (suite/apt./etc). Additional lines should be separated by a carriage return &ldquo;\n&rdquo;. If omitted the shipping address will be used.</td>
</tr>
<tr>
<td>billing-city</td>
<td>string</td>
<td>The billing city of the shipment. If omitted the shipping city will be used.</td>
</tr>
<tr>
<td>billing-state</td>
<td>string</td>
<td>Two digit ISO 3166-2 code of the destination state, ie &ldquo;US&rdquo;. If omitted the shipping city will be used.</td>
</tr>
<tr>
<td>billing-postal-code</td>
<td>string</td>
<td>The billing postal code of the shipment. If omitted the shipping city will be used.</td>
</tr>
<tr>
<td>line-items-attributes</td>
<td>[]</td>
<td>The root array element describing the item to be ordered.</td>
</tr>
<tr>
<td>line-number</td>
<td>number</td>
<td>Each line should have a line number in incrementing order. If omitted a line number will be automatically assigned.</td>
</tr>
<tr>
<td>quantity</td>
<td>number</td>
<td>The number of items you want to order for a given product.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>You description of the item. If omitted the default product description will be used.</td>
</tr>
<tr>
<td>product-code</td>
<td>number</td>
<td>The product code of the item to order. See product codes here.</td>
</tr>
<tr>
<td>item-properties</td>
<td>{}</td>
<td>Additional attributes for some products. This can be omitted in most cases. See products for more information.</td>
</tr>
<tr>
<td>path-to-image</td>
<td>string</td>
<td>A publically accessable path to the source artwork.</td>
</tr>
</tbody></table>

<h2 id="get-all-orders">Get All Orders</h2>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/kittens"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluffums"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calico"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all kittens.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/api/kittens</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_cats</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody></table>

<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>

<h2 id="get-a-specific-kitten">Get a Specific Kitten</h2>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/kittens/2"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific kitten.</p>

<aside class="warning">Inside HTML code blocks like this one, you can&rsquo;t use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://example.com/kittens/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to retrieve</td>
</tr>
</tbody></table>
